<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="icon" href="favicon.ico">
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>WW2 Film Timeline</title>
  <link rel="stylesheet" href="css/main.css" />
</head>
<body>
 
  <!-- Panels: Legend, Options, Filters, Stats -->

    <details class="timeline-legend">
      <summary>Timeline Legend</summary>
      <div class="legend-content">
        <div class="legend-group">
          <h3>Classification Color</h3>
          <table>
            <tr><td class="legend-box classification-Documentary"></td><td><strong>Documentary</strong> (Solid Green line)</td></tr>
            <tr><td class="legend-box classification-Dramatisation"></td><td><strong>Dramatisation</strong> (Solid Amber line)</td></tr>
            <tr><td class="legend-box classification-Fiction"></td><td><strong>Fiction</strong> (Solid Red line)</td></tr>
          </table>
        </div>
        <div class="legend-group">
          <h3>Historical Accuracy Rating</h3>
          <table>
            <tr><td><span class="rating-stars">â˜…â˜…â˜…â˜…â˜…</span></td><td>Highly accurate, closely follows historical records.</td></tr>
            <tr><td><span class="rating-stars">â˜…â˜…â˜…â˜…â˜†</span></td><td>Mostly accurate, with some dramatized elements.</td></tr>
            <tr><td><span class="rating-stars">â˜…â˜…â˜…â˜†â˜†</span></td><td>Balanced mix of fact and fiction.</td></tr>
            <tr><td><span class="rating-stars">â˜…â˜…â˜†â˜†â˜†</span></td><td>Loosely based on history.</td></tr>
            <tr><td><span class="rating-stars">â˜…â˜†â˜†â˜†â˜†</span></td><td>Fictional story with minimal historical grounding.</td></tr>
          </table>
        </div>
        <h3>Platform/s</h3>
        <table>
          <tr><td><span class="platform-icon icon-Netflix"></span></td><td>Netflix</td></tr>
          <tr><td><span class="platform-icon icon-Prime"></span></td><td>Prime Video</td></tr>
          <tr><td><span class="platform-icon icon-YouTube"></span></td><td>YouTube</td></tr>
          <tr><td><span class="platform-icon icon-Apple"></span></td><td>Apple TV</td></tr>
          <tr><td><span class="platform-icon icon-TVNZ"></span></td><td>TVNZ</td></tr>
          <tr><td><span class="platform-icon icon-Neon"></span></td><td>Neon</td></tr>
          <tr><td><span class="platform-icon icon-Beamafilm"></span></td><td>Beamafilm</td></tr>
          <tr><td><span class="platform-icon icon-AroVision"></span></td><td>AroVision</td></tr>
          <tr><td><span class="platform-icon icon-Plex"></span></td><td>Plex</td></tr>
          <tr><td><span class="platform-icon icon-MUBI"></td><td>MUBI</td></tr>
          <tr><td><span class="platform-icon icon-Disney"></td><td>Disney+</td></tr>
        </table>
        <div class="legend-group">
          <h3>Other Symbols</h3>
          <table>
            <tr><td><span class="watched-status-icon">âœ”</span></td><td>Film has been <strong>Watched</strong></td></tr>
            <tr><td><span class="notes-indicator">&#9999;</span></td><td>Film has <strong>Notes</strong> (Click card to view)</td></tr>
            <tr><td><span class="pin-icon">ðŸ“Œ</span></td><td>Film is <strong>Pinned</strong> as a favorite</td></tr>
          </table>
        </div>
      </div>
    </details>

    
    <details class="stats-panel">
      <summary>Stats</summary>
      <div id="statsContent" style="padding: 10px; font-size: 0.95em;"></div>
    </details>
  
    <details class="options-panel">
      <summary>Options</summary>
      <div class="controls">
        <label><input type="checkbox" id="hideWatchedToggle"> Hide Watched Films</label>
        <label><input type="checkbox" id="hidePinnedToggle"> Hide Pinned Films</label>
        <label><input type="checkbox" id="challengeModeToggle"> Challenge Mode (Unwatched + Unpinned)</label>
      </div>
      <div class="options-button-panel">
        <button class="options" id="exportButton">ðŸ“¥ Export</button>
        <button class="options" id="themeToggleButton">ðŸŒ™ Toggle Dark Mode</button>
      </div>
    </details>

    <details class="filter-panel">
    <summary>Filter Options</summary>
    <div class="controls">
      <input type="text" id="searchInput" placeholder="Search..." disabled>
      <select id="watchedFilter" disabled>
        <option value="">Watched: All</option>
        <option value="Yes">Watched: Yes</option>
        <option value="No">Watched: No</option>
      </select>
      <select id="formatFilter" disabled>
        <option value="">Format: All</option>
      </select>
      <select id="classificationFilter" disabled>
        <option value="">Classification: All</option>
      </select>
      <select id="platformFilter" disabled>
        <option value="">Platform/s: All</option>
      </select>
      <select id="eventYearFilter" disabled>
        <option value="">Event Year: All</option>
      </select>
      <select id="periodFilter" disabled>
        <option value="">Period: All</option>
      </select>
      <select id="pinnedFilter" disabled>
        <option value="">Pinned: All</option>
        <option value="Yes">Pinned: Yes</option>
        <option value="No">Pinned: No</option>
      </select>
      <button id="clearFilters">Clear Filters</button>      
    </div>    
    <div id="filterCount" class="filter-count">Showing 0 records</div>
  </details>


  <div id="initialPrompt" class="initial-prompt">Loading data...</div>
  <div id="alert-container"></div>
  
  <!-- UNIFIED Timeline Container -->
  <div class="timeline" id="timeline">
    <!-- This inner container is where the spine is drawn and where JS appends event content. -->
    <div class="timeline-container" id="timelineContainer">
          <!-- Timeline visualization will be rendered here by timeline.js -->
    </div>
  </div>
  <!-- Removed the duplicate <div> below -->


  <!-- App Entry -->
  <script type="module" src="js/main.js"></script>


</body>
</html>
